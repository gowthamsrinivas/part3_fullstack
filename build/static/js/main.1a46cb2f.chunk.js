(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),r=t(14),o=t.n(r),u=(t(20),t(3)),i=function(e){var n=e.handleChange,t=e.value;return console.log("rendered search"),Object(c.jsxs)("div",{children:["filter shown with:",Object(c.jsx)("input",{value:t,onChange:n})]})},s=function(e){var n=e.newName,t=e.newNumber,a=e.nameChange,r=e.numberChange,o=e.addName;return console.log("rendered person from"),Object(c.jsxs)("form",{onSubmit:o,children:[Object(c.jsxs)("div",{children:["Name: ",Object(c.jsx)("input",{value:n,onChange:a})]}),Object(c.jsxs)("div",{children:["Number: ",Object(c.jsx)("input",{value:t,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.personsToShow,t=e.handleDelete;return Object(c.jsx)(c.Fragment,{children:n.length?n.map((function(e){return Object(c.jsxs)("p",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:function(){return t(e)},children:"delete"})]},e.id)})):""})},j=function(e){var n=e.text;return Object(c.jsx)("h1",{children:n})},b=function(e){var n=e.message,t=e.state;return Object(c.jsx)("div",{className:t,children:n})},h=t(4),l=t.n(h),f="/api/persons";console.log("vdbuvdsvvjsdbisvd");var m=function(){return l.a.get(f).then((function(e){return e.data}))},O=function(e){return l.a.post(f,e).then((function(e){return e.data}))},v=function(e,n){return l.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},x=function(e){return l.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},p=function(){Object(a.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),h=Object(u.a)(o,2),l=h[0],f=h[1],p=Object(a.useState)(""),g=Object(u.a)(p,2),w=g[0],C=g[1],N=Object(a.useState)(""),S=Object(u.a)(N,2),k=S[0],y=S[1],D=Object(a.useState)(""),T=Object(u.a)(D,2),E=T[0],J=T[1],A=Object(a.useState)(""),B=Object(u.a)(A,2),F=B[0],I=B[1],L=k?t.filter((function(e){return e.name.slice(0,k.length).toLowerCase()===k})):t;return Object(c.jsxs)("div",{children:[Object(c.jsx)(j,{text:"Phonebook"}),Object(c.jsx)(b,{message:E,state:F}),Object(c.jsx)(i,{value:k,handleChange:function(e){y(e.target.value)}}),Object(c.jsx)(j,{text:"add a new"}),Object(c.jsx)(s,{newName:l,newNumber:w,nameChange:function(e){f(e.target.value)},numberChange:function(e){C(e.target.value)},addName:function(e){e.preventDefault();var n=t.map((function(e){return e.name})).indexOf(l);if(n>-1){if(window.confirm("".concat(l," is already added into phonebook,replace the older one with a new one?"))){var c={name:l,number:w};v(t[n].id,c).then((function(e){r(t.map((function(n){return n.name===l?e:n})))})).catch((function(e){J("".concat(l," has already been removed from server")),I("error"),setTimeout((function(){J(""),I("")}),5e3)}))}}else O({name:l,number:w}).then((function(e){r(t.concat(e)),J("Added ".concat(e.name," successfully")),I("success"),setTimeout((function(){J(""),I("")}),5e3)}));f(""),C("")}}),Object(c.jsx)(j,{text:"Numbers"}),Object(c.jsx)(d,{personsToShow:L,handleDelete:function(e){var n=e.name,c=e.id;window.confirm("Delete ".concat(n))&&x(c).then((function(){r(t.filter((function(e){return e.name!==n})))}))}})]})};o.a.render(Object(c.jsx)(p,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1a46cb2f.chunk.js.map